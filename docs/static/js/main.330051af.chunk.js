(this.webpackJsonpnotesapp=this.webpackJsonpnotesapp||[]).push([[0],{240:function(e,t,n){},242:function(e,t,n){},248:function(e,t){},381:function(e,t,n){"use strict";n.r(t);var o=n(1),a=n.n(o),r=n(48),c=n.n(r),i=(n(240),n(46)),s=n.n(i),u=n(71),d=n(7),p=n(9),l=n(23),b=n(3),O=(n(242),n(197)),m=n(411),f=n(412),j=n(224),h=(n(243),n(413)),N=n(20),g=Object(h.a)(),v={notes:[],sorting:"AZ",loading:!0,error:!1,form:{name:"",description:""}},x={container:{padding:20},input:{marginBottom:10},item:{textAlign:"left"},p:{color:"#1890ff"}},y=function(e,t){switch(t.type){case"SET_NOTES":return Object(b.a)(Object(b.a)({},e),{},{notes:t.notes,loading:!1});case"UPDATE_NOTES":var n=e.notes.findIndex((function(e){return e.id===t.updatedNote}));console.log(n),console.log(t.updatedNote);var o=Object(l.a)(e.notes);return console.log(o),o[n].completed=!o[n].completed,Object(b.a)(Object(b.a)({},e),{},{notes:o,loading:!1});case"SORTED_NOTE":var a,r;return"AZ"===e.sortedNote?(a="ZA",r=e.notes.sort((function(e,t){return e.name>t.name?1:-1}))):(a="AZ",r=e.notes.sort((function(e,t){return e.name<t.name?1:-1}))),Object(b.a)(Object(b.a)({},e),{},{notes:r,sortedNote:a});case"ADD_NOTE":return Object(b.a)(Object(b.a)({},e),{},{notes:[t.note].concat(Object(l.a)(e.notes))});case"REMOVE_NOTE":var c=e.notes.findIndex((function(e){return e.id===t.id})),i=[].concat(Object(l.a)(e.notes.slice(0,c)),Object(l.a)(e.notes.slice(c+1)));return Object(b.a)(Object(b.a)({},e),{},{notes:i});case"RESET_FORM":return Object(b.a)(Object(b.a)({},e),{},{form:v.form});case"SET_INPUT":return Object(b.a)(Object(b.a)({},e),{},{form:Object(b.a)(Object(b.a)({},e.form),{},Object(p.a)({},t.name,t.value))});case"ERROR":return Object(b.a)(Object(b.a)({},e),{},{loading:!1,error:!0});default:return Object(b.a)({},e)}};function T(){var e=Object(o.useReducer)(y,v),t=Object(d.a)(e,2),n=t[0],a=t[1],r=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.graphql({query:"\n  query ListNotes(\n    $filter: ModelNoteFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    listNotes(filter: $filter, limit: $limit, nextToken: $nextToken) {\n      items {\n        id\n        clientId\n        name\n        description\n        completed\n        createdAt\n        updatedAt\n      }\n      nextToken\n    }\n  }\n"});case 3:t=e.sent,a({type:"SET_NOTES",notes:t.data.listNotes.items}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),a({type:"ERROR"});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(u.a)(s.a.mark((function e(){var t,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=n.form).name&&t.description){e.next=3;break}return e.abrupt("return",alert("please enter a name and description"));case 3:return o=Object(b.a)(Object(b.a)({},t),{},{clientId:g,completed:!1,id:Object(h.a)()}),a({type:"ADD_NOTE",note:o}),a({type:"RESET_FORM"}),e.prev=6,e.next=9,O.a.graphql({query:"\n  mutation CreateNote(\n    $input: CreateNoteInput!\n    $condition: ModelNoteConditionInput\n  ) {\n    createNote(input: $input, condition: $condition) {\n      id\n      clientId\n      name\n      description\n      completed\n      createdAt\n      updatedAt\n    }\n  }\n",variables:{input:o}});case 9:console.log("successfully created note!"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),console.log("error: ",e.t0);case 15:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.prev=1,e.next=4,O.a.graphql({query:"\n  mutation DeleteNote(\n    $input: DeleteNoteInput!\n    $condition: ModelNoteConditionInput\n  ) {\n    deleteNote(input: $input, condition: $condition) {\n      id\n      clientId\n      name\n      description\n      completed\n      createdAt\n      updatedAt\n    }\n  }\n",variables:{input:{id:n}}});case 4:console.log("successfully deleted note!"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(u.a)(s.a.mark((function e(t){var o,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.notes.findIndex((function(e){return e.id===t.id})),(r=Object(l.a)(n.notes))[o].completed=!t.completed,a({type:"SET_NOTES",notes:r}),e.prev=4,e.next=7,O.a.graphql({query:"\n  mutation UpdateNote(\n    $input: UpdateNoteInput!\n    $condition: ModelNoteConditionInput\n  ) {\n    updateNote(input: $input, condition: $condition) {\n      id\n      clientId\n      name\n      description\n      completed\n      createdAt\n      updatedAt\n    }\n  }\n",variables:{input:{id:t.id,completed:r[o].completed}}});case 7:console.log("note successfully updated!"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}();function T(e){a({type:"SET_INPUT",name:e.target.name,value:e.target.value})}return Object(o.useEffect)((function(){r();var e=O.a.graphql({query:"\n  subscription OnCreateNote {\n    onCreateNote {\n      id\n      clientId\n      name\n      description\n      completed\n      createdAt\n      updatedAt\n    }\n  }\n"}).subscribe({next:function(e){var t=e.value.data.onCreateNote;g!==t.clientId&&a({type:"ADD_NOTE",note:t})}}),t=O.a.graphql({query:"\n  subscription OnDeleteNote {\n    onDeleteNote {\n      id\n      clientId\n      name\n      description\n      completed\n      createdAt\n      updatedAt\n    }\n  }\n"}).subscribe({next:function(e){var t=e.value.data.onDeleteNote.id;a({type:"REMOVE_NOTE",id:t})}}),n=O.a.graphql({query:"\n  subscription OnUpdateNote {\n    onUpdateNote {\n      id\n      clientId\n      name\n      description\n      completed\n      createdAt\n      updatedAt\n    }\n  }\n"}).subscribe({next:function(e){var t=e.value.data.onUpdateNote.id;console.log(t),a({type:"UPDATE_NOTES",updatedNote:t})}});return function(){e.unsubscribe(),t.unsubscribe(),n.unsubscribe()}}),[]),Object(N.jsxs)("div",{style:x.container,children:[Object(N.jsx)("h1",{children:"Tia's To-Do:"}),Object(N.jsx)("hr",{}),Object(N.jsx)("br",{}),Object(N.jsx)("h2",{children:"Add a new to-do task: "}),Object(N.jsx)(f.a,{onChange:T,value:n.form.name,placeholder:"Note Name",name:"name",style:x.input}),Object(N.jsx)(f.a,{onChange:T,value:n.form.description,placeholder:"Note description",name:"description",style:x.input}),Object(N.jsx)(j.a,{onClick:c,type:"primary",children:"Create Note"}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsx)(j.a,{onClick:function(){a({type:"SORTED_NOTE"})},type:"primary",children:"Sort!"}),Object(N.jsxs)("h3",{children:[n.notes.filter((function(e){return!1===e.completed})).length," Tasks To Do / ",n.notes.length," Total Tasks"]}),Object(N.jsx)(m.b,{loading:n.loading,dataSource:n.notes,renderItem:function(e){return Object(N.jsx)(m.b.Item,{style:x.item,actions:[Object(N.jsx)("p",{style:x.p,onClick:function(){return i(e)},children:"Delete"}),Object(N.jsx)("p",{style:x.p,onClick:function(){return p(e)},children:e.completed?"completed":"mark completed"})],children:Object(N.jsx)(m.b.Item.Meta,{title:e.name,description:e.description})})}})]})}var E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,415)).then((function(t){var n=t.getCLS,o=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),o(e),a(e),r(e),c(e)}))},I={aws_project_region:"us-east-2",aws_appsync_graphqlEndpoint:"https://uzv5ndd5wfdszpwhpaaekitup4.appsync-api.us-east-2.amazonaws.com/graphql",aws_appsync_region:"us-east-2",aws_appsync_authenticationType:"API_KEY",aws_appsync_apiKey:"da2-2ufgm75bovhbxfcuweyqxggu3q"};n(151).default.configure(I),c.a.render(Object(N.jsx)(a.a.StrictMode,{children:Object(N.jsx)(T,{})}),document.getElementById("root")),E()}},[[381,1,2]]]);
//# sourceMappingURL=main.330051af.chunk.js.map